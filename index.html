
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Chromatic Emotions of Munk | Color Analysis Research</title>
  <meta name="description" content="Exploring the relationship between color choices and emotional states in Munk's paintings through data visualization and analysis." />
  <meta name="author" content="Color Analysis Research Team" />

  <meta property="og:title" content="The Chromatic Emotions of Munk | Color Analysis Research" />
  <meta property="og:description" content="Exploring the relationship between color choices and emotional states in Munk's paintings through data visualization and analysis." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@lovable_dev" />
  <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- D3.js for visualizations -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: rgba(242, 233, 222, 0.2);
    }
    
    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
    }

    .animate-fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Custom Munk theme colors */
    :root {
      --munk-cream: #F2E9DE;
      --munk-dark: #2D2A25;
      --munk-blue: #446A8E;
      --munk-red: #BE4D3A;
      --munk-green: #5B7E5B;
      --munk-yellow: #DBAD64;
    }

    .bg-munk-cream\/20 { background-color: rgba(242, 233, 222, 0.2); }
    .bg-munk-cream\/30 { background-color: rgba(242, 233, 222, 0.3); }
    .bg-munk-cream { background-color: var(--munk-cream); }
    .text-munk-dark { color: var(--munk-dark); }
    .bg-munk-blue { background-color: var(--munk-blue); }
    .bg-munk-red { background-color: var(--munk-red); }
    .bg-munk-green { background-color: var(--munk-green); }
    .bg-munk-yellow { background-color: var(--munk-yellow); }

    .tooltip-parent:hover .tooltip {
      visibility: visible;
    }
    
    .text-muted-foreground {
      color: #666;
    }
  </style>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            serif: ['Playfair Display', 'serif'],
            sans: ['Inter', 'sans-serif']
          }
        }
      }
    }
  </script>
</head>

<body>
  <div id="app" class="min-h-screen bg-munk-cream/20">
    <!-- Header -->
    <header class="py-8 md:py-12 px-4 text-center">
      <h1 class="text-4xl md:text-6xl font-bold mb-4 text-munk-dark">
        The Chromatic Emotions of Munk
      </h1>
      <p class="text-xl md:text-2xl max-w-3xl mx-auto text-muted-foreground font-serif italic">
        Exploring the relationship between color choices and emotional states in the artist's work
      </p>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Introduction Section -->
      <section class="max-w-4xl mx-auto px-4 py-8 md:py-12">
        <div class="grid md:grid-cols-2 gap-8 items-center">
          <div>
            <h2 class="text-3xl font-bold mb-4 text-munk-dark">About This Research</h2>
            <p class="text-lg mb-4">
              This research explores the correlation between the emotional state of the artist Munk and the colors used in his paintings throughout different periods of his life.
            </p>
            <p class="text-lg mb-4">
              By analyzing the dominant color schemes in his work and cross-referencing with biographical information about his mental and emotional state, we can observe patterns that reveal how deeply his inner world influenced his artistic expression.
            </p>
            <p class="text-lg">
              Hover over the timeline below to explore specific years and paintings, and observe how color usage evolved alongside the artist's emotional journey.
            </p>
          </div>
          <div class="bg-munk-cream p-6 rounded-lg shadow-lg">
            <h3 class="text-2xl font-serif mb-4 text-munk-dark">Key Findings</h3>
            <ul class="space-y-3">
              <li class="flex items-start">
                <div class="h-4 w-4 mt-1.5 rounded-full bg-munk-blue mr-3"></div>
                <span>Blues intensify during periods of melancholy and reflection</span>
              </li>
              <li class="flex items-start">
                <div class="h-4 w-4 mt-1.5 rounded-full bg-munk-red mr-3"></div>
                <span>Reds and oranges dominate during periods of anxiety and emotional turbulence</span>
              </li>
              <li class="flex items-start">
                <div class="h-4 w-4 mt-1.5 rounded-full bg-munk-green mr-3"></div>
                <span>Green tones appear more frequently during introspective phases</span>
              </li>
              <li class="flex items-start">
                <div class="h-4 w-4 mt-1.5 rounded-full bg-munk-yellow mr-3"></div>
                <span>Yellow highlights increase during transitional emotional states</span>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Color Analysis Timeline Section -->
      <section class="py-8 md:py-12">
        <div class="max-w-6xl mx-auto px-4">
          <h2 class="text-3xl font-bold mb-6 text-center">Color Analysis Timeline</h2>
          <p class="text-center text-lg mb-8 max-w-2xl mx-auto">
            Explore how Munk's color palette evolved over time. Hover over each year to see the paintings from that period.
          </p>
          
          <div class="relative w-full max-w-4xl mx-auto mb-8">
            <div id="histogram-chart" class="w-full h-[400px] bg-white rounded-lg shadow-md p-4"></div>
            
            <div id="selected-year-info" class="mt-8 hidden">
              <!-- Selected year content will be inserted here by JavaScript -->
            </div>
            
            <div id="default-message" class="text-center mt-8 text-lg text-muted-foreground">
              Hover over a year in the histogram to see paintings from that year
            </div>
          </div>
        </div>
      </section>

      <!-- Year Comparison Section -->
      <section class="py-8 md:py-12 bg-munk-cream/30">
        <div class="max-w-6xl mx-auto px-4">
          <div class="relative w-full max-w-4xl mx-auto mb-8">
            <div class="flex flex-col gap-6">
              <h2 class="text-3xl font-bold mb-6 text-center">Visual Comparison</h2>
              
              <p class="text-center text-lg mb-8 max-w-2xl mx-auto">
                Compare the color palettes and emotional states of two different years in Munk's work.
              </p>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="flex flex-col items-center">
                  <div class="mb-4 w-full max-w-xs">
                    <select id="first-year-select" class="w-full p-2 border rounded">
                      <!-- Year options will be added by JavaScript -->
                    </select>
                  </div>
                  <div id="first-year-palette" class="w-full p-6 border rounded-lg bg-white shadow-sm">
                    <!-- First year palette content will be inserted by JavaScript -->
                  </div>
                </div>
                
                <div class="flex flex-col items-center">
                  <div class="mb-4 w-full max-w-xs">
                    <select id="second-year-select" class="w-full p-2 border rounded">
                      <!-- Year options will be added by JavaScript -->
                    </select>
                  </div>
                  <div id="second-year-palette" class="w-full p-6 border rounded-lg bg-white shadow-sm">
                    <!-- Second year palette content will be inserted by JavaScript -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="py-8 px-4 mt-12 border-t border-gray-200">
      <div class="max-w-4xl mx-auto text-center">
        <p class="mb-2 text-muted-foreground">
          Research & Visualization Project: The Chromatic Emotions of Munk
        </p>
        <p class="text-xs text-muted-foreground">
          Note: This is a fictional research project for demonstration purposes. While based on the actual works of Edvard Munch, 
          the emotional analysis is interpretative rather than documented historical fact.
        </p>
      </div>
    </footer>
  </div>

  <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
  <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>

  <script>
    // Mock data for Munk's paintings analysis
    const munkData = [
      {
        year: 1893,
        colorPalette: [
          { color: "#BE4D3A", frequency: 40 },
          { color: "#E99E75", frequency: 25 },
          { color: "#446A8E", frequency: 20 },
          { color: "#2D2A25", frequency: 15 }
        ],
        averageEmotionalState: {
          primary: "anxiety",
          intensity: 8,
          notes: "Period of intense emotional turmoil"
        },
        paintings: [
          {
            title: "The Scream",
            year: 1893,
            imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Edvard_Munch%2C_1893%2C_The_Scream%2C_oil%2C_tempera_and_pastel_on_cardboard%2C_91_x_73_cm%2C_National_Gallery_of_Norway.jpg/800px-Edvard_Munch%2C_1893%2C_The_Scream%2C_oil%2C_tempera_and_pastel_on_cardboard%2C_91_x_73_cm%2C_National_Gallery_of_Norway.jpg",
            description: "One of Munk's most famous works depicting raw emotion",
            dominantColors: [
              { color: "#BE4D3A", frequency: 45 },
              { color: "#E99E75", frequency: 30 },
              { color: "#446A8E", frequency: 15 },
              { color: "#2D2A25", frequency: 10 }
            ],
            emotionalState: {
              primary: "anxiety",
              intensity: 9,
              notes: "Created during a period of intense emotional distress"
            }
          },
          {
            title: "Anxiety",
            year: 1893,
            imageUrl: "https://uploads6.wikiart.org/images/edvard-munch/anxiety-1894.jpg!Large.jpg",
            description: "Figures with distorted faces expressing deep unease",
            dominantColors: [
              { color: "#BE4D3A", frequency: 35 },
              { color: "#446A8E", frequency: 25 },
              { color: "#2D2A25", frequency: 20 },
              { color: "#E99E75", frequency: 20 }
            ],
            emotionalState: {
              primary: "anxiety",
              intensity: 8,
              notes: "Exploration of collective anxiety and alienation"
            }
          }
        ]
      },
      {
        year: 1895,
        colorPalette: [
          { color: "#446A8E", frequency: 35 },
          { color: "#5B7E5B", frequency: 25 },
          { color: "#BE4D3A", frequency: 20 },
          { color: "#2D2A25", frequency: 20 }
        ],
        averageEmotionalState: {
          primary: "melancholy",
          intensity: 7,
          notes: "Period of reflection and introspection"
        },
        paintings: [
          {
            title: "Puberty",
            year: 1895,
            imageUrl: "https://uploads5.wikiart.org/images/edvard-munch/puberty-1894.jpg!Large.jpg",
            description: "Young girl sitting on a bed with her arms covering herself",
            dominantColors: [
              { color: "#446A8E", frequency: 40 },
              { color: "#5B7E5B", frequency: 25 },
              { color: "#2D2A25", frequency: 20 },
              { color: "#BE4D3A", frequency: 15 }
            ],
            emotionalState: {
              primary: "vulnerability",
              intensity: 7,
              notes: "Capturing the uncertainty of adolescence"
            }
          },
          {
            title: "Self-Portrait with Cigarette",
            year: 1895,
            imageUrl: "https://uploads2.wikiart.org/images/edvard-munch/self-portrait-with-cigarette-1895.jpg!Large.jpg",
            description: "Artist portrayed in a smoky atmosphere",
            dominantColors: [
              { color: "#2D2A25", frequency: 35 },
              { color: "#446A8E", frequency: 30 },
              { color: "#5B7E5B", frequency: 20 },
              { color: "#BE4D3A", frequency: 15 }
            ],
            emotionalState: {
              primary: "contemplation",
              intensity: 6,
              notes: "Introspective examination of self"
            }
          }
        ]
      },
      {
        year: 1899,
        colorPalette: [
          { color: "#DBAD64", frequency: 30 },
          { color: "#5B7E5B", frequency: 25 },
          { color: "#446A8E", frequency: 25 },
          { color: "#2D2A25", frequency: 20 }
        ],
        averageEmotionalState: {
          primary: "solitude",
          intensity: 6,
          notes: "Period of isolation and artistic exploration"
        },
        paintings: [
          {
            title: "The Dance of Life",
            year: 1899,
            imageUrl: "https://uploads6.wikiart.org/00142/images/edvard-munch/the-dance-of-life-1899-1.jpg!Large.jpg",
            description: "Figures dancing by the sea representing different life stages",
            dominantColors: [
              { color: "#DBAD64", frequency: 35 },
              { color: "#5B7E5B", frequency: 25 },
              { color: "#446A8E", frequency: 25 },
              { color: "#2D2A25", frequency: 15 }
            ],
            emotionalState: {
              primary: "reflection",
              intensity: 7,
              notes: "Contemplation on the cycle of life"
            }
          },
          {
            title: "Melancholy",
            year: 1899,
            imageUrl: "https://uploads7.wikiart.org/images/edvard-munch/melancholy-1894-1.jpg!Large.jpg",
            description: "Solitary figure by the shore in contemplation",
            dominantColors: [
              { color: "#446A8E", frequency: 40 },
              { color: "#5B7E5B", frequency: 30 },
              { color: "#DBAD64", frequency: 20 },
              { color: "#2D2A25", frequency: 10 }
            ],
            emotionalState: {
              primary: "solitude",
              intensity: 6,
              notes: "The loneliness of modern existence"
            }
          }
        ]
      },
      {
        year: 1903,
        colorPalette: [
          { color: "#5B7E5B", frequency: 35 },
          { color: "#DBAD64", frequency: 25 },
          { color: "#446A8E", frequency: 20 },
          { color: "#BE4D3A", frequency: 20 }
        ],
        averageEmotionalState: {
          primary: "contemplation",
          intensity: 5,
          notes: "Period of relative calm and artistic maturity"
        },
        paintings: [
          {
            title: "Girls on the Bridge",
            year: 1903,
            imageUrl: "https://uploads3.wikiart.org/images/edvard-munch/girls-on-the-bridge-1902.jpg!Large.jpg",
            description: "Group of young women standing on a bridge",
            dominantColors: [
              { color: "#5B7E5B", frequency: 40 },
              { color: "#DBAD64", frequency: 25 },
              { color: "#446A8E", frequency: 20 },
              { color: "#BE4D3A", frequency: 15 }
            ],
            emotionalState: {
              primary: "serenity",
              intensity: 4,
              notes: "More balanced emotional state"
            }
          },
          {
            title: "The Yellow Log",
            year: 1903,
            imageUrl: "https://uploads0.wikiart.org/images/edvard-munch/yellow-log-1912.jpg!Large.jpg",
            description: "Landscape with bright yellow fallen tree",
            dominantColors: [
              { color: "#DBAD64", frequency: 35 },
              { color: "#5B7E5B", frequency: 30 },
              { color: "#446A8E", frequency: 20 },
              { color: "#BE4D3A", frequency: 15 }
            ],
            emotionalState: {
              primary: "reflection",
              intensity: 5,
              notes: "Connection to nature and life cycles"
            }
          }
        ]
      },
      {
        year: 1907,
        colorPalette: [
          { color: "#5B7E5B", frequency: 30 },
          { color: "#DBAD64", frequency: 25 },
          { color: "#446A8E", frequency: 25 },
          { color: "#BE4D3A", frequency: 20 }
        ],
        averageEmotionalState: {
          primary: "serenity",
          intensity: 4,
          notes: "Period of recuperation and artistic evolution"
        },
        paintings: [
          {
            title: "The Sun",
            year: 1907,
            imageUrl: "https://uploads8.wikiart.org/00213/images/edvard-munch/the-sun-1912.jpg!Large.jpg",
            description: "Radiant sun over a landscape",
            dominantColors: [
              { color: "#DBAD64", frequency: 45 },
              { color: "#5B7E5B", frequency: 25 },
              { color: "#446A8E", frequency: 15 },
              { color: "#BE4D3A", frequency: 15 }
            ],
            emotionalState: {
              primary: "vitality",
              intensity: 6,
              notes: "Celebration of life and renewal"
            }
          },
          {
            title: "Spring Landscape",
            year: 1907,
            imageUrl: "https://uploads0.wikiart.org/images/edvard-munch/spring-landscape-at-the-red-house-1905.jpg!Large.jpg",
            description: "Vibrant countryside scene in spring",
            dominantColors: [
              { color: "#5B7E5B", frequency: 40 },
              { color: "#DBAD64", frequency: 25 },
              { color: "#446A8E", frequency: 20 },
              { color: "#BE4D3A", frequency: 15 }
            ],
            emotionalState: {
              primary: "renewal",
              intensity: 5,
              notes: "Focus on rebirth and natural cycles"
            }
          }
        ]
      }
    ];

    const emotionalStateColors = {
      anxiety: "#BE4D3A",
      melancholy: "#446A8E",
      solitude: "#5B7E5B",
      contemplation: "#5B7E5B",
      vulnerability: "#BE4D3A",
      reflection: "#DBAD64",
      serenity: "#A5C9CA",
      vitality: "#DBAD64",
      renewal: "#5B7E5B"
    };

    // Initialize the page once DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      initializeHistogramChart();
      initializeYearComparison();
    });

    // Histogram Chart Initialization
    function initializeHistogramChart() {
      const margin = { top: 40, right: 30, bottom: 60, left: 100 };
      const width = 800;
      const height = 400;
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const svg = d3.select('#histogram-chart')
        .append('svg')
        .attr('width', '100%')
        .attr('height', '100%')
        .attr('viewBox', `0 0 ${width} ${height}`)
        .attr('preserveAspectRatio', 'xMidYMid meet');

      const chart = svg.append('g')
        .attr('transform', `translate(${margin.left},${margin.top})`);

      // X scale for years
      const xScale = d3.scaleBand()
        .domain(munkData.map(d => d.year.toString()))
        .range([0, innerWidth])
        .padding(0.2);

      // Y scale for color frequency
      const yScale = d3.scaleLinear()
        .domain([0, 100])
        .range([innerHeight, 0]);

      // Add X axis
      chart.append('g')
        .attr('transform', `translate(0,${innerHeight})`)
        .call(d3.axisBottom(xScale))
        .selectAll('text')
        .style('font-size', '12px');

      // Add Y axis
      chart.append('g')
        .call(d3.axisLeft(yScale))
        .selectAll('text')
        .style('font-size', '12px');

      // Add Y axis label
      chart.append('text')
        .attr('transform', 'rotate(-90)')
        .attr('y', -margin.left + 40)
        .attr('x', -(innerHeight / 2))
        .attr('text-anchor', 'middle')
        .style('font-size', '14px')
        .text('Color Percentage (%)');

      // Add X axis label
      chart.append('text')
        .attr('text-anchor', 'middle')
        .attr('x', innerWidth / 2)
        .attr('y', innerHeight + margin.bottom - 20)
        .style('font-size', '14px')
        .text('Year');

      // For each year, create a stacked bar group
      const yearGroups = chart.selectAll('.year-group')
        .data(munkData)
        .join('g')
        .attr('class', 'year-group')
        .attr('transform', d => `translate(${xScale(d.year.toString())},0)`);

      // For each year, add stacked color bars
      yearGroups.each(function(d) {
        const group = d3.select(this);
        let yAccum = innerHeight;

        d.colorPalette.forEach((color, i) => {
          const barHeight = innerHeight - yScale(color.frequency);
          
          group.append('rect')
            .attr('x', 0)
            .attr('y', yAccum - barHeight)
            .attr('width', xScale.bandwidth())
            .attr('height', barHeight)
            .attr('fill', color.color)
            .attr('stroke', 'white')
            .attr('stroke-width', 1);
          
          yAccum -= barHeight;
        });
      });

      // Add interactivity
      yearGroups
        .on('mouseover', function(event, d) {
          const year = d.year;
          
          // Highlight the hovered year group
          d3.select(this).selectAll('rect')
            .attr('stroke-width', 2)
            .attr('stroke', '#000');
          
          displaySelectedYearInfo(d);
        })
        .on('mouseout', function() {
          // Reset style
          d3.select(this).selectAll('rect')
            .attr('stroke-width', 1)
            .attr('stroke', 'white');
        });
    }

    // Display information about the selected year
    function displaySelectedYearInfo(yearData) {
      const selectedYearInfoEl = document.getElementById('selected-year-info');
      const defaultMessageEl = document.getElementById('default-message');
      
      // Create HTML for paintings
      let paintingsHTML = '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">';
      
      yearData.paintings.forEach(painting => {
        paintingsHTML += `
          <div class="bg-white rounded-lg shadow-lg overflow-hidden transition-transform hover:translate-y-[-5px] duration-300">
            <div class="relative aspect-[4/3] overflow-hidden">
              <img 
                src="${painting.imageUrl}" 
                alt="${painting.title}" 
                class="w-full h-full object-cover"
              />
            </div>
            <div class="p-4">
              <h4 class="text-xl font-serif font-bold mb-2">${painting.title}</h4>
              <p class="text-sm text-muted-foreground mb-3">${painting.year}</p>
              
              ${painting.description ? `<p class="text-sm mb-3">${painting.description}</p>` : ''}
              
              <div class="mb-4">
                <h5 class="text-sm font-semibold mb-2">Dominant Colors:</h5>
                <div class="flex space-x-2">
                  ${painting.dominantColors.map(color => `
                    <div 
                      class="h-6 rounded-full tooltip-parent group relative"
                      style="background-color: ${color.color}; width: ${Math.max(color.frequency / 2, 10)}px"
                    >
                      <span class="tooltip absolute invisible group-hover:visible bg-black/75 text-white text-xs rounded px-2 py-1 bottom-full mb-1 left-1/2 transform -translate-x-1/2">
                        ${color.color}: ${color.frequency}%
                      </span>
                    </div>
                  `).join('')}
                </div>
              </div>
              
              <div>
                <h5 class="text-sm font-semibold mb-2">Emotional State:</h5>
                <div class="flex items-center gap-2">
                  <div 
                    class="w-3 h-3 rounded-full" 
                    style="background-color: ${emotionalStateColors[painting.emotionalState.primary] || '#000'}"
                  ></div>
                  <span class="capitalize">${painting.emotionalState.primary}</span>
                  <span class="text-xs ml-auto">Intensity: ${painting.emotionalState.intensity}/10</span>
                </div>
                ${painting.emotionalState.notes ? `<p class="text-xs italic mt-2">${painting.emotionalState.notes}</p>` : ''}
              </div>
            </div>
          </div>
        `;
      });
      
      paintingsHTML += '</div>';
      
      // Create HTML for emotional analysis
      const emotionHTML = `
        <div class="bg-white p-6 rounded-lg shadow">
          <h3 class="text-2xl font-bold mb-4">Emotional Analysis: ${yearData.year}</h3>
          
          <div class="mb-6">
            <h4 class="text-lg font-medium mb-2">Primary Emotional State</h4>
            <div class="flex items-center gap-3">
              <div 
                class="w-8 h-8 rounded-full" 
                style="background-color: ${emotionalStateColors[yearData.averageEmotionalState.primary] || '#888'}"
              ></div>
              <div>
                <span class="text-xl capitalize">${yearData.averageEmotionalState.primary}</span>
                <span class="text-sm text-muted-foreground ml-2">
                  (Intensity: ${yearData.averageEmotionalState.intensity}/10)
                </span>
              </div>
            </div>
            ${yearData.averageEmotionalState.notes ? 
              `<p class="mt-2 italic">${yearData.averageEmotionalState.notes}</p>` : 
              ''
            }
          </div>
          
          <div>
            <h4 class="text-lg font-medium mb-2">Color Palette Analysis</h4>
            <div class="flex h-12 w-full overflow-hidden rounded-md">
              ${yearData.colorPalette.map(color => `
                <div 
                  class="h-full tooltip-parent group relative" 
                  style="background-color: ${color.color}; width: ${color.frequency}%"
                >
                  <span class="tooltip absolute invisible group-hover:visible bg-black/75 text-white text-xs rounded px-2 py-1 -top-7 left-1/2 transform -translate-x-1/2">
                    ${color.color}: ${color.frequency}%
                  </span>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `;
      
      // Update the DOM
      selectedYearInfoEl.innerHTML = `
        <h3 class="text-2xl font-bold mb-6 text-center">Paintings from ${yearData.year}</h3>
        ${paintingsHTML}
        ${emotionHTML}
      `;
      
      // Show selected year info, hide default message
      selectedYearInfoEl.classList.remove('hidden');
      defaultMessageEl.classList.add('hidden');
    }

    // Year Comparison Initialization
    function initializeYearComparison() {
      const firstYearSelect = document.getElementById('first-year-select');
      const secondYearSelect = document.getElementById('second-year-select');
      
      // Add years to select dropdowns
      munkData.forEach(yearData => {
        const year = yearData.year.toString();
        
        const firstOption = document.createElement('option');
        firstOption.value = year;
        firstOption.textContent = year;
        
        const secondOption = document.createElement('option');
        secondOption.value = year;
        secondOption.textContent = year;
        
        firstYearSelect.appendChild(firstOption);
        secondYearSelect.appendChild(secondOption);
      });
      
      // Set default selections (first and last years)
      firstYearSelect.value = munkData[0].year.toString();
      secondYearSelect.value = munkData[munkData.length - 1].year.toString();
      
      // Display initial palettes
      updateYearPalette('first', munkData[0]);
      updateYearPalette('second', munkData[munkData.length - 1]);
      
      // Add event listeners
      firstYearSelect.addEventListener('change', (e) => {
        const selectedYear = e.target.value;
        const yearData = munkData.find(d => d.year.toString() === selectedYear);
        if (yearData) {
          updateYearPalette('first', yearData);
        }
      });
      
      secondYearSelect.addEventListener('change', (e) => {
        const selectedYear = e.target.value;
        const yearData = munkData.find(d => d.year.toString() === selectedYear);
        if (yearData) {
          updateYearPalette('second', yearData);
        }
      });
    }

    // Update the year palette display
    function updateYearPalette(position, yearData) {
      const paletteEl = document.getElementById(`${position}-year-palette`);
      
      paletteEl.innerHTML = `
        <h3 class="text-2xl font-serif mb-4 text-center">
          ${yearData.year}
        </h3>
        
        <div class="flex flex-col gap-4">
          <div class="flex flex-col gap-2">
            <h4 class="text-lg font-medium">Color Palette</h4>
            <div class="flex h-16 w-full overflow-hidden rounded-md border">
              ${yearData.colorPalette.map((color, index) => `
                <div 
                  class="h-full tooltip-parent group relative"
                  style="background-color: ${color.color}; width: ${color.frequency}%"
                >
                  <div class="absolute invisible group-hover:visible bg-black/75 text-white text-xs rounded px-2 py-1 bottom-full mb-1 left-1/2 transform -translate-x-1/2">
                    ${color.frequency}%
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
          
          <div class="flex flex-col gap-2">
            <h4 class="text-lg font-medium">Emotional State</h4>
            <div class="flex items-center gap-3">
              <div 
                class="w-6 h-6 rounded-full" 
                style="background-color: ${emotionalStateColors[yearData.averageEmotionalState.primary] || '#888'}"
              ></div>
              <div>
                <span class="capitalize">${yearData.averageEmotionalState.primary}</span>
                <span class="text-sm text-muted-foreground ml-2">
                  (Intensity: ${yearData.averageEmotionalState.intensity}/10)
                </span>
              </div>
            </div>
          </div>
          
          <div class="flex flex-col gap-2">
            <h4 class="text-lg font-medium">Number of Paintings</h4>
            <p>${yearData.paintings.length} paintings</p>
          </div>
        </div>
      `;
    }
  </script>
</body>
</html>
